<!--Requires special access-->
<div class="jumbotron text-center">
    
	<h1>Content Manager</h1>
	


	<h4 ng-click="showMessages = ! showMessages">Change messages</h4>
	<div ng-show="showMessages">
		<label>Select Page</label>
		<select class="form-control"
				ng-change="SelectPage(pageSelected.name)"
				ng-options="option.name for option in pages" 
				ng-model="pageSelected" >
			
		</select>
		<div ng-show="hasSelectedAPage">

			<form name="msgPage" class="form-horizontal" role="form">
					<button ng-click="SaveChanges()">Save Changes</button>
					<br>
					<label>Main</label>
					<div class="form-group">
						<label class="control-label col-sm-2">Title</label>
						<div class="col-sm-10">
	      					<input type="text" class="form-control" ng-model="messagePile[CurrentlyEditing].main.title"  value="{{ messagePile[CurrentlyEditing].main.title}}">
	    				</div>
	    			</div>

	    			<div class="form-group">
						<label class="control-label col-sm-2">Content</label>
						<div class="col-sm-10">
	      					<input type="text" class="form-control" ng-model="messagePile[CurrentlyEditing].main.content" value="{{ messagePile[CurrentlyEditing].main.content}}">
	    				</div>
	    			</div>	

	    			<label>Alternate Main</label>
    				<div class="form-group">
						<label class="control-label col-sm-2">Title</label>
						<div class="col-sm-10">
	      					<input type="text" class="form-control" ng-model="messagePile[CurrentlyEditing].altMain.title" value="{{ messagePile[CurrentlyEditing].altMain.title}}">
	    				</div>
	    			</div>

	    			<div class="form-group">
						<label class="control-label col-sm-2">Content</label>
						<div class="col-sm-10">
	      					<input type="text" class="form-control" ng-model="messagePile[CurrentlyEditing].altMain.content" value="{{ messagePile[CurrentlyEditing].altMain.content}}">
	    				</div>
	    			</div>	

	    			<label>Daily Messages</label>
	    			<div class="form-group">
	    				<textarea rows="4" cols="50" ng-style="{'font-size': 14 + 'px'}" ng-model="messagePile[CurrentlyEditing].daily" ng-list="&#10;" ng-trim="false"></textarea>
						<pre>{{ messagePile[CurrentlyEditing].daily | json }}</pre>
	    			</div>

	    			<label>Info Messages</label>
	    			<div class="form-group">
	    				<textarea rows="4" cols="50" ng-style="{'font-size': 14 + 'px'}" ng-model="messagePile[CurrentlyEditing].info" ng-list="&#10;" ng-trim="false"></textarea>
						<pre>{{ messagePile[CurrentlyEditing].info | json }}</pre>
	    			</div>

	    			<label>Learning Messages</label>
	    			<div class="form-group">
	    				<textarea rows="4" cols="50" ng-style="{'font-size': 14 + 'px'}" ng-model="messagePile[CurrentlyEditing].learning" ng-list="&#10;" ng-trim="false"></textarea>
						<pre>{{ messagePile[CurrentlyEditing].learning | json }}</pre>
	    			</div>

	    			<label>Contacts</label>
	    			<div class="form-group">
	    				<table>
	    					<tr>
  								<td></td>
	    						<td>Name</td>
	    						<td>Title</td>
	    						<td>Email</td>
	    						<td>Phone</td>
	    						<td>Office</td>
	    						<td>Alt</td>
  							</tr>
    					
    						<tr ng-repeat="contact in messagePile[CurrentlyEditing].contact track by $index">
  								<td>{{ $index + 1 }}</td>
	    						<td><input type="text" ng-model="messagePile[CurrentlyEditing].contact[$index].name" 
	    						class="form-control" value="{{ messagePile[CurrentlyEditing].contact[$index].name }}"></td>
	    						<td><input type="text" ng-model="messagePile[CurrentlyEditing].contact[$index].title" 
	    						class="form-control" value="{{ messagePile[CurrentlyEditing].contact[$index].title }}"></td>
	    						<td><input type="text" ng-model="messagePile[CurrentlyEditing].contact[$index].email" 
	    						class="form-control" value="{{ messagePile[CurrentlyEditing].contact[$index].email }}"></td>
	    						<td><input type="text" ng-model="messagePile[CurrentlyEditing].contact[$index].phone" 
	    						class="form-control" value="{{ messagePile[CurrentlyEditing].contact[$index].phone }}"></td>
	    						<td><input type="text" ng-model="messagePile[CurrentlyEditing].contact[$index].office" 
	    						class="form-control" value="{{ messagePile[CurrentlyEditing].contact[$index].office }}"></td>
	    						<td><input type="text" ng-model="messagePile[CurrentlyEditing].contact[$index].alt" 
	    						class="form-control" value="{{ messagePile[CurrentlyEditing].contact[$index].alt }}"></td>
  							</tr>
						</table>
	    			</div>

			</form>


		</div>
	</div>

	<h4>Upload content</h4>
	<h4>Change settings</h4>
	<button ng-click="UpdateMessages()">Upload JSON files to DB</button>
	<h4>{{ updateMessageResult }}</h4>
	      
</div>


<!-- {	
	"main":	{
			"title":"This is the main title",
			"content":"this is the main content"
	},
	"altMain":{
		"title":"this is the altmain content",
		"content":"this is the alt main content"
	},
    "daily":[
    	"first daily message", 
    	"second daily message", 
    	"third daily message"
    ],
    "announcements": [
    	"first announcement", 
    	"second announcement", 
    	"third announcement"
    ],
    "info" : [
    	"first info bubble", 
    	"second info bubble", 
    	"third info bubble"
    ],
    "learning": [
    	"first learning bubble", 
    	"second learning bubble", 
    	"third learning bubble"
    ],
    "contact": [
    	{
    		"name": "Leonard",
    		"title": "Coder",
    		"email": "leo@email.com",
    		"phone": "999-666-8888",
    		"office": "first computer on the left.",
    		"alt": ""
    	}
    ],
    "log" : "for internal use only"
} -->